# Backend Deployment Checklist

## ‚úÖ Pre-Deployment Verification

- [x] Backend code is production-ready with proper error handling
- [x] Environment variable validation is implemented
- [x] Database initialization script exists (start.py)
- [x] render.yaml configuration file is present
- [x] requirements.txt includes all dependencies
- [x] CORS configuration supports production domains
- [x] Rate limiting is implemented for API endpoints
- [x] Input validation and sanitization is in place

## üöÄ Render Deployment Steps

### Step 1: Create Render Account
- [ ] Go to https://render.com
- [ ] Sign up with GitHub account
- [ ] Verify email address

### Step 2: Connect Repository
- [ ] Click "New +" ‚Üí "Web Service" in Render dashboard
- [ ] Connect GitHub account if not already connected
- [ ] Select `kiryuchi10.github.io` repository
- [ ] Render should auto-detect render.yaml configuration

### Step 3: Configure Environment Variables
Set these in Render dashboard (Environment tab):

- [ ] **SENDER_EMAIL**: `donghyeunlee1@gmail.com`
- [ ] **SENDER_PASSWORD**: `[Gmail App Password - 16 characters]`
  - Generate at: Google Account ‚Üí Security ‚Üí 2-Step Verification ‚Üí App passwords
- [ ] **CORS_ORIGINS**: `https://kiryuchi10.github.io`
  - Replace with your actual frontend domain
- [ ] **SECRET_KEY**: (Auto-generated by Render)
- [ ] **RECIPIENT_EMAIL**: (Already set in render.yaml)

### Step 4: Deploy Service
- [ ] Click "Create Web Service"
- [ ] Wait for build to complete (5-10 minutes)
- [ ] Check build logs for any errors
- [ ] Note the deployed URL (e.g., https://portfolio-backend-xxxx.onrender.com)

## üß™ Post-Deployment Testing

### Step 5: Test Endpoints
Run the test script:
```bash
cd backend
python test_deployment.py https://your-backend-url.onrender.com
```

Manual testing:
- [ ] **Health Check**: `GET /api/health` ‚Üí Should return 200 with "healthy" status
- [ ] **Analytics**: `GET /api/analytics` ‚Üí Should return visitor data (may be empty initially)
- [ ] **Track Visit**: `POST /api/track-visit` ‚Üí Should return success status
- [ ] **Contact Form**: `POST /api/contact` ‚Üí Should send email and return success

### Step 6: Verify Database
- [ ] Check that database tables are created automatically
- [ ] Verify visitor tracking is working
- [ ] Test contact form data storage

### Step 7: Monitor Deployment
- [ ] Check Render service logs for any errors
- [ ] Verify service stays running (no crashes)
- [ ] Test from different IP addresses/locations

## üîß Troubleshooting

### Common Issues:

1. **Build Fails**:
   - Check requirements.txt for correct dependencies
   - Verify Python version compatibility
   - Check build logs in Render dashboard

2. **Service Won't Start**:
   - Check start.py script
   - Verify environment variables are set
   - Check application logs

3. **Database Issues**:
   - Ensure disk storage is properly mounted
   - Check database initialization in logs
   - Verify SQLite file permissions

4. **Email Not Working**:
   - Verify Gmail App Password is correct (16 characters)
   - Check that 2-Step Verification is enabled on Gmail
   - Test email credentials locally first

5. **CORS Errors**:
   - Verify CORS_ORIGINS matches your frontend domain exactly
   - Check that frontend is making requests to correct backend URL

## üìù Next Steps After Successful Deployment

- [ ] Update frontend API configuration with new backend URL
- [ ] Test complete end-to-end functionality
- [ ] Set up monitoring/alerting for the service
- [ ] Document the deployed backend URL for team reference

## üîó Important URLs

- **Render Dashboard**: https://dashboard.render.com
- **Backend URL**: `https://portfolio-backend-xxxx.onrender.com` (replace with actual)
- **Frontend URL**: `https://kiryuchi10.github.io`

## üìû Support

If you encounter issues:
1. Check Render documentation: https://render.com/docs
2. Review service logs in Render dashboard
3. Test endpoints using the provided test script
4. Verify all environment variables are correctly set